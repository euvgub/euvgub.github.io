<!DOCTYPE html >
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p33" style="overflow: hidden; position: relative; background-color: white; width: 909px; height: 1286px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	-webkit-transform-origin: bottom left;
	-ms-transform-origin: bottom left;
	transform-origin: bottom left;
	-webkit-transform: scale(0.25);
	-ms-transform: scale(0.25);
	transform: scale(0.25);
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_33{left:811px;bottom:76px;letter-spacing:0.3px;}
#t2_33{left:175px;bottom:78px;letter-spacing:-0.1px;word-spacing:-0.3px;}
#t3_33{left:88px;bottom:1202px;}
#t4_33{left:171px;bottom:1202px;letter-spacing:0.1px;}
#t5_33{left:88px;bottom:1171px;letter-spacing:0.1px;word-spacing:-0.1px;}
#t6_33{left:88px;bottom:1133px;letter-spacing:0.1px;}
#t7_33{left:146px;bottom:1133px;letter-spacing:0.1px;}
#t8_33{left:195px;bottom:1133px;letter-spacing:-0.3px;}
#t9_33{left:143px;bottom:1092px;letter-spacing:-0.2px;}
#ta_33{left:221px;bottom:1092px;letter-spacing:-0.2px;}
#tb_33{left:257px;bottom:1092px;letter-spacing:-0.1px;}
#tc_33{left:335px;bottom:1092px;letter-spacing:-0.1px;word-spacing:0.1px;}
#td_33{left:505px;bottom:1092px;letter-spacing:-0.2px;}
#te_33{left:576px;bottom:1092px;letter-spacing:-0.1px;}
#tf_33{left:668px;bottom:1092px;letter-spacing:-0.2px;}
#tg_33{left:739px;bottom:1092px;letter-spacing:-0.2px;}
#th_33{left:143px;bottom:1067px;}
#ti_33{left:214px;bottom:1067px;letter-spacing:-0.1px;}
#tj_33{left:313px;bottom:1067px;letter-spacing:-0.2px;}
#tk_33{left:385px;bottom:1067px;letter-spacing:-0.2px;}
#tl_33{left:455px;bottom:1067px;letter-spacing:-0.3px;}
#tm_33{left:533px;bottom:1067px;letter-spacing:-0.1px;}
#tn_33{left:583px;bottom:1067px;letter-spacing:-0.3px;}
#to_33{left:670px;bottom:1067px;letter-spacing:-0.3px;}
#tp_33{left:728px;bottom:1067px;letter-spacing:-0.2px;}
#tq_33{left:143px;bottom:1043px;letter-spacing:-0.2px;}
#tr_33{left:88px;bottom:1006px;letter-spacing:0.1px;}
#ts_33{left:88px;bottom:962px;}
#tt_33{left:116px;bottom:964px;}
#tu_33{left:197px;bottom:964px;}
#tv_33{left:207px;bottom:964px;letter-spacing:0.2px;word-spacing:-0.2px;}
#tw_33{left:88px;bottom:935px;}
#tx_33{left:116px;bottom:937px;}
#ty_33{left:186px;bottom:937px;}
#tz_33{left:196px;bottom:937px;letter-spacing:0.1px;word-spacing:0.6px;}
#t10_33{left:316px;bottom:937px;letter-spacing:-0.3px;}
#t11_33{left:88px;bottom:907px;}
#t12_33{left:116px;bottom:909px;}
#t13_33{left:204px;bottom:909px;}
#t14_33{left:214px;bottom:909px;letter-spacing:0.2px;word-spacing:-0.2px;}
#t15_33{left:88px;bottom:880px;}
#t16_33{left:116px;bottom:882px;}
#t17_33{left:177px;bottom:882px;}
#t18_33{left:187px;bottom:882px;letter-spacing:0.1px;word-spacing:-0.1px;}
#t19_33{left:88px;bottom:853px;}
#t1a_33{left:116px;bottom:855px;}
#t1b_33{left:157px;bottom:855px;}
#t1c_33{left:167px;bottom:855px;letter-spacing:0.3px;}
#t1d_33{left:88px;bottom:826px;}
#t1e_33{left:116px;bottom:828px;}
#t1f_33{left:166px;bottom:828px;}
#t1g_33{left:176px;bottom:828px;letter-spacing:0.1px;word-spacing:0.3px;}
#t1h_33{left:436px;bottom:828px;word-spacing:0.9px;}
#t1i_33{left:580px;bottom:828px;letter-spacing:0.1px;word-spacing:0.6px;}
#t1j_33{left:88px;bottom:799px;}
#t1k_33{left:116px;bottom:801px;}
#t1l_33{left:191px;bottom:801px;}
#t1m_33{left:201px;bottom:801px;letter-spacing:0.1px;word-spacing:0.6px;}
#t1n_33{left:454px;bottom:801px;letter-spacing:0.1px;word-spacing:0.2px;}
#t1o_33{left:629px;bottom:801px;}
#t1p_33{left:640px;bottom:801px;letter-spacing:0.1px;}
#t1q_33{left:116px;bottom:778px;letter-spacing:0.1px;}
#t1r_33{left:503px;bottom:778px;letter-spacing:0.1px;}
#t1s_33{left:535px;bottom:778px;letter-spacing:0.4px;}
#t1t_33{left:131px;bottom:738px;letter-spacing:0.2px;word-spacing:-0.3px;}
#t1u_33{left:360px;bottom:738px;letter-spacing:0.1px;}
#t1v_33{left:460px;bottom:738px;letter-spacing:0.2px;word-spacing:-0.5px;}
#t1w_33{left:131px;bottom:713px;letter-spacing:0.1px;}
#t1x_33{left:187px;bottom:713px;letter-spacing:0.2px;word-spacing:-0.5px;}
#t1y_33{left:131px;bottom:689px;}
#t1z_33{left:146px;bottom:689px;letter-spacing:0.2px;word-spacing:-0.4px;}
#t20_33{left:88px;bottom:629px;}
#t21_33{left:142px;bottom:629px;letter-spacing:0.4px;}
#t22_33{left:142px;bottom:575px;}
#t23_33{left:143px;bottom:552px;}
#t24_33{left:143px;bottom:529px;}
#t25_33{left:143px;bottom:506px;}
#t26_33{left:143px;bottom:483px;}
#t27_33{left:143px;bottom:461px;}
#t28_33{left:143px;bottom:438px;}
#t29_33{left:143px;bottom:415px;}
#t2a_33{left:142px;bottom:392px;}
#t2b_33{left:88px;bottom:309px;letter-spacing:0.1px;}
#t2c_33{left:157px;bottom:309px;letter-spacing:0.1px;}
#t2d_33{left:291px;bottom:309px;letter-spacing:0.2px;}
#t2e_33{left:143px;bottom:271px;letter-spacing:0.2px;}
#t2f_33{left:296px;bottom:271px;letter-spacing:0.2px;}
#t2g_33{left:88px;bottom:227px;}
#t2h_33{left:171px;bottom:227px;letter-spacing:0.1px;}
#t2i_33{left:88px;bottom:196px;letter-spacing:0.1px;word-spacing:0.1px;}
#t2j_33{left:757px;bottom:196px;letter-spacing:0.1px;}
#t2k_33{left:88px;bottom:173px;letter-spacing:0.1px;}
#t2l_33{left:163px;bottom:173px;letter-spacing:0.1px;word-spacing:0.2px;}
#t2m_33{left:596px;bottom:173px;letter-spacing:0.1px;word-spacing:0.5px;}
#t2n_33{left:88px;bottom:150px;letter-spacing:0.1px;word-spacing:0.1px;}
#t2o_33{left:390px;bottom:150px;letter-spacing:0.4px;}

.s1_33{
	FONT-SIZE: 97.5px;
	FONT-FAMILY: Verdana-Bold_k;
	color: rgb(0,0,0);
}

.s2_33{
	FONT-SIZE: 67.5px;
	FONT-FAMILY: Verdana-Bold_j;
	color: rgb(128,128,128);
}

.s3_33{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: Verdana-Bold_k;
	color: rgb(0,0,0);
}

.s4_33{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: TrebuchetMS_q;
	color: rgb(0,0,0);
}

.s5_33{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: TrebuchetMS_9;
	color: rgb(0,0,0);
}

.s6_33{
	FONT-SIZE: 67.5px;
	FONT-FAMILY: Verdana_6m;
	color: rgb(0,0,0);
}

.s7_33{
	FONT-SIZE: 67.5px;
	FONT-FAMILY: TrebuchetMS_9;
	color: rgb(0,0,0);
}

.s8_33{
	FONT-SIZE: 73.3px;
	FONT-FAMILY: Verdana_6f;
	color: rgb(94,178,142);
}

.s9_33{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: TrebuchetMS-Bold_r;
	color: rgb(0,0,0);
}

.s10_33{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: Verdana-Bold_j;
	color: rgb(0,0,0);
}

.s11_33{
	FONT-SIZE: 55px;
	FONT-FAMILY: CourierNew_6o;
	color: rgb(0,0,0);
}

.s12_33{
	FONT-SIZE: 97.5px;
	FONT-FAMILY: Verdana-Bold_j;
	color: rgb(0,0,0);
}

</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts33" type="text/css" >

@font-face {
	font-family: CourierNew_6o;
	src: url("fonts/CourierNew_6o.woff") format("woff");
}

@font-face {
	font-family: TrebuchetMS-Bold_r;
	src: url("fonts/TrebuchetMS-Bold_r.woff") format("woff");
}

@font-face {
	font-family: TrebuchetMS_9;
	src: url("fonts/TrebuchetMS_9.woff") format("woff");
}

@font-face {
	font-family: TrebuchetMS_q;
	src: url("fonts/TrebuchetMS_q.woff") format("woff");
}

@font-face {
	font-family: Verdana-Bold_j;
	src: url("fonts/Verdana-Bold_j.woff") format("woff");
}

@font-face {
	font-family: Verdana-Bold_k;
	src: url("fonts/Verdana-Bold_k.woff") format("woff");
}

@font-face {
	font-family: Verdana_6f;
	src: url("fonts/Verdana_6f.woff") format("woff");
}

@font-face {
	font-family: Verdana_6m;
	src: url("fonts/Verdana_6m.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg33Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg33" style="-webkit-user-select: none;"><object width="909" height="1286" data="33/33.svg" type="image/svg+xml" id="pdf33" style="width:909px; height:1286px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div id="t1_33" class="t s1_33">33</div>
<div id="t2_33" class="t s2_33">Руководство пользователя Интерпретатора языка Lua</div>
<div id="t3_33" class="t s3_33">3.11.2</div>
<div id="t4_33" class="t s3_33">CalcBuySell </div>
<div id="t5_33" class="t s4_33">Функция предназначена для расчета максимально возможного количества лотов в заявке.</div>
<div id="t6_33" class="t s4_33">Формат</div>
<div id="t7_33" class="t s4_33">вызова</div>
<div id="t8_33" class="t s5_33">: </div>
<div id="t9_33" class="t s6_33">NUMBER</div>
<div id="ta_33" class="t s7_33">qty, </div>
<div id="tb_33" class="t s6_33">NUMBER</div>
<div id="tc_33" class="t s7_33">comission CalcBuySell(</div>
<div id="td_33" class="t s6_33">STRING</div>
<div id="te_33" class="t s7_33">class_code, </div>
<div id="tf_33" class="t s6_33">STRING</div>
<div id="tg_33" class="t s7_33">sec_code, </div>
<div id="th_33" class="t s6_33">STRING</div>
<div id="ti_33" class="t s7_33">client_code, </div>
<div id="tj_33" class="t s6_33">STRING</div>
<div id="tk_33" class="t s7_33">account, </div>
<div id="tl_33" class="t s6_33">NUMBER</div>
<div id="tm_33" class="t s7_33">price, </div>
<div id="tn_33" class="t s6_33">BOOLEAN</div>
<div id="to_33" class="t s7_33">is_buy, </div>
<div id="tp_33" class="t s6_33">BOOLEAN</div>
<div id="tq_33" class="t s7_33">is_market)</div>
<div id="tr_33" class="t s4_33">Параметры:</div>
<div id="ts_33" class="t s8_33">•</div>
<div id="tt_33" class="t s9_33">class_code</div>
<div id="tu_33" class="t s4_33">–</div>
<div id="tv_33" class="t s4_33">код класса;</div>
<div id="tw_33" class="t s8_33">•</div>
<div id="tx_33" class="t s9_33">sec_code</div>
<div id="ty_33" class="t s4_33">–</div>
<div id="tz_33" class="t s4_33">код инструмента</div>
<div id="t10_33" class="t s5_33">; </div>
<div id="t11_33" class="t s8_33">•</div>
<div id="t12_33" class="t s9_33">client_code</div>
<div id="t13_33" class="t s4_33">–</div>
<div id="t14_33" class="t s4_33">код клиента;</div>
<div id="t15_33" class="t s8_33">•</div>
<div id="t16_33" class="t s9_33">account</div>
<div id="t17_33" class="t s4_33">–</div>
<div id="t18_33" class="t s4_33">счет депо;</div>
<div id="t19_33" class="t s8_33">•</div>
<div id="t1a_33" class="t s9_33">price</div>
<div id="t1b_33" class="t s4_33">–</div>
<div id="t1c_33" class="t s4_33">цена;</div>
<div id="t1d_33" class="t s8_33">•</div>
<div id="t1e_33" class="t s9_33">is_buy</div>
<div id="t1f_33" class="t s4_33">–</div>
<div id="t1g_33" class="t s4_33">признак заявки на покупку («true» –</div>
<div id="t1h_33" class="t s4_33">на покупку, иначе –</div>
<div id="t1i_33" class="t s4_33">на продажу);</div>
<div id="t1j_33" class="t s8_33">•</div>
<div id="t1k_33" class="t s9_33">is_market</div>
<div id="t1l_33" class="t s4_33">–</div>
<div id="t1m_33" class="t s4_33">признак рыночной заявки («true» –</div>
<div id="t1n_33" class="t s4_33">рыночная заявка, иначе</div>
<div id="t1o_33" class="t s4_33">–</div>
<div id="t1p_33" class="t s4_33">лимитированная).</div>
<div id="t1q_33" class="t s4_33">Необязательный параметр, значение по умолчанию: «</div>
<div id="t1r_33" class="t s5_33">false</div>
<div id="t1s_33" class="t s4_33">».</div>
<div id="t1t_33" class="t s10_33">При заданном параметре</div>
<div id="t1u_33" class="t s3_33">is_market=</div>
<div id="t1v_33" class="t s10_33">true, необходимо передать параметр </div>
<div id="t1w_33" class="t s3_33">price=</div>
<div id="t1x_33" class="t s10_33">0, иначе будет рассчитано максимально возможное количество лотов </div>
<div id="t1y_33" class="t s10_33">в</div>
<div id="t1z_33" class="t s10_33">заявке по цене price.</div>
<div id="t20_33" class="t s4_33">Пример</div>
<div id="t21_33" class="t s5_33">: </div>
<div id="t22_33" class="t s11_33">function main() </div>
<div id="t23_33" class="t s11_33">local bs = CalcBuySell </div>
<div id="t24_33" class="t s11_33">assert(bs, "No funstion!!") </div>
<div id="t25_33" class="t s11_33">while not stopped do </div>
<div id="t26_33" class="t s11_33">qty, comiss = bs("BQUOTE", "AFLT", "Q3", "S01-00000F00", 10, true, false) </div>
<div id="t27_33" class="t s11_33">message("qty = " .. qty .. ", COM = " .. comiss, 2) </div>
<div id="t28_33" class="t s11_33">sleep(1000) </div>
<div id="t29_33" class="t s11_33">end </div>
<div id="t2a_33" class="t s11_33">end </div>
<div id="t2b_33" class="t s1_33">3.12</div>
<div id="t2c_33" class="t s12_33">Функции</div>
<div id="t2d_33" class="t s12_33">для получения значений таблицы </div>
<div id="t2e_33" class="t s12_33">«Текущие</div>
<div id="t2f_33" class="t s12_33">торги»</div>
<div id="t2g_33" class="t s3_33">3.12.1</div>
<div id="t2h_33" class="t s3_33">getParamEx </div>
<div id="t2i_33" class="t s4_33">Функция предназначена для получения значений всех параметров биржевой информации из</div>
<div id="t2j_33" class="t s4_33">таблицы </div>
<div id="t2k_33" class="t s4_33">«Текущие</div>
<div id="t2l_33" class="t s4_33">торги». С помощью этой функции можно получить любое из</div>
<div id="t2m_33" class="t s4_33">значений Таблицы текущих торгов</div>
<div id="t2n_33" class="t s4_33">для заданных кодов класса и инструмента</div>
<div id="t2o_33" class="t s5_33">. </div>

<!-- End text definitions -->


</div>
</body>
</html>
