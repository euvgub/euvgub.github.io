<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><title>Формат исходного файла с корректировками позиций (*.lci)</title>
<META name=GENERATOR content="MSHTML 8.00.6001.18812">
<META content="text/html; charset=utf-8" http-equiv=Content-Type>

<STYLE type=text/css>

ADDRESS {font-style:normal;  padding-left: 20px; margin: 0px 0px 25pt 5pt; font-size: 9pt; color:#000000; font-style:normal; font-weight: normal; display:list-item; list-style-type:none; list-style-position: outside; list-style-image:url('template/icon-popup.gif');}

ADDRESS P {font-style:normal;  padding-left: 20px; margin: 0px 0px 5pt -15pt; font-size: 9pt; color:#000000; font-style:normal; font-weight: normal; display:list-item; list-style-type:none; list-style-position: outside; list-style-image:url('template/icon-popup.gif');}

MENU { font-size: 12pt; font-family:Verdana;  line-height:100%; margin:0px 0px 0px 20pt; list-style-type:none; list-style-position: outside; list-style-image:url('template/blt-link_black.gif'); }

BODY {font-family: Arial; font-size: 12pt; color:#000000; background-color: #fbfbfb; line-height: 1.3; margin:0pt 5pt 10pt 5pt;}

A {color: #16A9D3;}
P  {font-family:Arial; font-size:12pt; margin-top:0px; margin-bottom:12pt;}

IMG { margin:0pt 0pt 0pt auto; }

UL { font-family: Arial; font-size: 12pt; margin:12px 0px 12px 20px; list-style-type:disc; list-style-image:url('template/blt-li.gif'); } 
OL {font-family: Arial; font-size: 12pt; font-weight: bold; margin-top:12pt; margin-bottom:6pt; margin-left:20pt; type: bold;}
LI { margin-bottom: 8px; }
LI OL { margin-left: 25px; }
LI UL { margin-left: 25px; list-style-image:url('template/blt-link_black.gif'); }

SPAN {font-weight: normal;}

DD OL { font:12pt Verdana; font-style:normal; font-weight: bold; margin-left: 35px; }

H1 { font-size: 28pt; font-family:Verdana; color:#000000; font-style:normal; line-height:110%; margin-top:20pt; margin-bottom:26pt; text-decoration:none; font-weight: bold; margin-right:auto; margin-left:auto;}
H2 { font-size: 20pt; font-family:Verdana; color:#000000; font-style:normal; line-height:110%; margin-top:20pt; margin-bottom:6pt; text-decoration:none; font-weight: bold; margin-left:auto; padding: 0.5ex 0; }
H3 { font-size: 14pt; font-family:Verdana; color:#000000; font-style:normal; line-height:95%; margin-top:20pt; margin-bottom:6pt; margin-left: auto;}
H4 { font-size: 11pt; font-family:Verdana; color:#000000; font-style:normal; line-height:95%; margin-top:16pt; margin-bottom:6pt; margin-left: auto;}

TABLE { border-collapse: collapse; margin-bottom:20pt; }
TH { font-size: 10pt; border-top: none; border-bottom:#000000 3px solid; padding:15pt 5pt 5px 0px; color:#000000; font-family:Verdana; font-style:normal; font-weight: bold; text-align:left; }
TD { font-size:10pt; border-top: 0pt; font-family:Arial; border-bottom:#000000 1px solid; padding:4pt 5px 12pt 0px;  line-height:120%; }
TD P {font-family: Arial; font-size: 10pt; margin-top:6pt;}
TD.plain 	{margin:0px 0px 0px 0px; border-top: 0px; border-bottom:0px; padding:0px 0px 0px 0px; font-size:100%; line-height:100%;}
TD.array	{ border: 1px solid #D4D4D4; text-align: center; width: 90px;}
TD.pic	{ padding:0px 0px 0px 0px; }
TD.line1          { background-color:#000000; }
TD.line2          { background-color:#000000; }
TD UL {font-family: Arial; font-size: 10pt; margin:0px 0px 0px 20px; line-height:120%;}
TD UL LI {font-family: Arial; font-size: 10pt; margin-bottom: 0px; list-style-image:url('template/blt-link_black.gif');}

TD H4	{line-height: 100%; margin-top: 8px; margin-bottom: 0px;}

DL	{ padding-left:35px; margin-left: 30px; margin-bottom: 35px;}
DD	{ padding-left:8px; color:#000000; margin: 8px 8px 8px 0px; font:12pt Verdana; font-style:normal; font-weight: bold; border-left: #000000 4px solid; margin-bottom:18pt; }
DD P	{font:12pt Verdana; font-style:normal; font-weight: bold; }

PRE	{ background-color:#F2F2F2; margin-left: 35px; margin-bottom: 20px; border-style:none; border-top-style: none; border-bottom-style: none; padding:8px 8px 8px 8px; font: 10pt Courier New; line-height:160%;}

.title {display: inline; background:#FbFbFb; margin-left: 0px; border-style:solid; border-color:#D4D4D4; border-width: 1px 1px 0px 4px; padding:8px 8px 6px 12px; color:#19A788; font-weight:bold;}
.hlt { background:#FFFFFF; margin-left: 0px; border-style:solid; border-color:#D4D4D4; border-width: 1px 2px 1px 4px; padding:15px 8px 15px 46px;}

STRONG { font-weight: bold;}
.logo	{ position: relative; top:-45px; float: right; width: 100px; margin:10px 10px 10px 10px; }
.mark	{ font: 10pt Verdana; color: #5EB28E; }
.defn	{ font: 15px Trebuchet MS; margin:12px 0px 12px 50px; }
.copyright {font: 12pt Trebuchet MS; font-style:normal; color:#A2A2A2; margin-top: 50px;}
.comment	{ font-size: 10pt; font-family: Verdana; }
</STYLE>

<meta name=GENERATOR content="MSHTML 8.00.6001.18812"></head>

<body aLink=#19a788 link=#007cae vLink=#8d4194>
<H1 style="MARGIN-TOP: 10pt">Формат исходного файла с корректировками позиций (*.lci)</H1>
<P><FONT size=2 face=Arial>
<P>Каждая строка файла представляет собой набор параметров, записанных в виде 
«наименование параметра»=«значение параметра», разделенных символом «;» через 
пробел.</P>
<P>
<TABLE>
  <TBODY>
  <TR>
    <TH>Параметр</TH>
    <TH width="75%">Назначение</TH></TR>
  <TR>
    <TD>LIMIT_TYPE </TD>
    <TD width="75%">Тип изменяемой позиции. Возможные значения: «MONEY» – 
      позиция по денежным средствам, «DEPO» – позиция по инструментам.</TD></TR>
  <TR>
    <TD>LIMIT_ID</TD>
    <TD width="75%">Идентификатор корректировки позиции, уникальный 
      целочисленный параметр в интервале от 0 до 2147483648</TD></TR>
  <TR>
    <TD>FIRM_ID</TD>
    <TD width="75%">Код участника торгов. Соответствует параметру «Фирма» 
      Таблицы позиций</TD></TR>
  <TR>
    <TD>CLIENT_CODE</TD>
    <TD width="75%">Код клиента. Максимум 12 символов. Обязательный 
  параметр</TD></TR>
  <TR>
    <TD>OPEN_BALANCE</TD>
    <TD width="75%">Изменение значения «Входящего остатка», необязательный 
      параметр</TD></TR>
  <TR>
    <TD>OPEN_LIMIT</TD>
    <TD width="75%">Изменение значения «Входящего лимита», необязательный 
      параметр</TD></TR>
  <TR>
    <TD>CURRENT_BALANCE</TD>
    <TD width="75%">Изменение значения «Текущего остатка», необязательный 
      параметр</TD></TR>
  <TR>
    <TD>CURRENT_LIMIT</TD>
    <TD width="75%">Изменение значения «Текущего лимита», необязательный 
      параметр</TD></TR>
  <TR>
    <TD>LIMIT_OPERATION</TD>
    <TD>
      <P>Способ коррекции позиции, обязательный параметр. Возможные значения:</P>
      <UL>
        <LI>«CORRECT_LIMIT» (по умолчанию) – значения позиций изменяются на величину, указанную 
        в корректировках: 
        <UL>
          <LI>«Входящий остаток» = «Входящий остаток» + OPEN_BALANCE 
          <LI>«Входящий лимит» = «Входящий лимит» + OPEN_LIMIT 
          <LI>«Текущий остаток» = «Текущий остаток» + OPEN_BALANCE + 
          CURRENT_BALANCE 
          <LI>«Текущий лимит» = «Текущий лимит» + OPEN_LIMIT + 
        CURRENT_LIMIT</LI></UL>
        <LI>«SET_LIMIT» – значения позиций заменяются на указанные в 
        корректировках. 
        <UL>
          <LI>«Входящий остаток» = OPEN_BALANCE 
          <LI>«Входящий лимит» = OPEN_LIMIT 
          <LI>«Текущий остаток» = CURRENT_BALANCE 
          <LI>«Текущий лимит» =                       CURRENT_LIMIT</LI></UL></LI></UL></TD></TR>
  <TR>
    <TD><SPAN class=mark>*</SPAN>TRDACCID</TD>
    <TD>Номер счета депо, обязательный параметр. Соответствует полю «Счет 
      депо» таблицы «Позиции по инструментам»</TD></TR>
  <TR>
    <TD><SPAN class=mark>*</SPAN> SECCODE</TD>
    <TD>Код инструмента, обязательный параметр. Соответствует полю «Код 
      инструмента» таблицы «Позиции по инструментам»</TD></TR>
  <TR>
    <TD><SPAN class=mark>**</SPAN> TAG</TD>
    <TD>Код позиции, обязательный параметр. Соответствует полю «Код 
      позиции» таблицы «Позиции по деньгам»</TD></TR>
  <TR>
    <TD><SPAN class=mark>**</SPAN> CURR_CODE</TD>
    <TD> Код валюты, обязательный параметр. Соответствует полю «Валюта» 
      таблицы «Позиции по деньгам»</TD></TR>
  <TR>
    <TD> LIMIT_KIND</TD>
    <TD>   Срок расчётов. Соответствует полю «Срок расчётов» таблиц «Позиции по деньгам» и «Позиции по инструментам»</TD></TR>
  <TR>
    <TD><SPAN class=mark>**</SPAN> LEVERAGE</TD>
    <TD> Плечо, необязательный параметр. Соответствует полю «Плечо» таблицы «Позиции по деньгам»</TD></TR>
  <TR>
    <TD><SPAN class=mark>*</SPAN> WA_POSITION_PRICE</TD>
    <TD>Средневзвешенная цена приобретения, необязательный параметр. Соответствует полю «Цена приобретения» таблицы «Позиции по инструментам»</TD></TR>
</TBODY></TABLE></P>

<P><SPAN class=mark>*</SPAN><SPAN class=comment> - параметр корректировки позиций по инструментам (LIMIT_TYPE=DEPO)</SPAN></P>
<P><SPAN class=mark>**</SPAN><SPAN class=comment> - параметр корректировки позиций по денежным средствам (LIMIT_TYPE=MONEY)</SPAN></P>

<P>
<DL>
  <DD>Несмотря на то, что параметры «OPEN_BALANCE», «OPEN_LIMIT», 
  «CURRENT_BALANCE», «CURRENT_LIMIT» являются необязательными, по крайней мере, 
  один из них должен быть задан для каждой коррекции позиций. </DD></DL>

<H3>Примеры строк:</H3>
<UL>
  <LI>корректировка позиции по денежным средствам </LI></UL><PRE>LIMIT_TYPE=MONEY; LIMIT_ID=1; FIRM_ID=NC0038900000; TAG=EQTV; CURR_CODE=SUR; CLIENT_CODE= <BR>SUBADM1; OPEN_LIMIT=10; CURRENT_LIMIT= 10; LIMIT_OPERATION=CORRECT_LIMIT; LIMIT_KIND= 1; LEVERAGE=0,2;</PRE>
<UL>
  <LI>установка позиции по денежным средствам</LI></UL><PRE>LIMIT_TYPE=MONEY; LIMIT_ID=2; FIRM_ID=NC0038900000; TAG=EQTV; CURR_CODE=SUR; CLIENT_CODE= SUBADM2; OPEN_LIMIT=10000; 
CURRENT_LIMIT= 5000; LIMIT_OPERATION=SET_LIMIT; LIMIT_KIND=0; LEVERAGE=0,18;</PRE>
<UL>
  <LI>корректировка позиции по инструментам</LI></UL><PRE>LIMIT_TYPE=DEPO; LIMIT_ID=3; FIRM_ID=NC0038900000; SECCODE=RU0008926621; TRDACCID=L01-00000F00; <BR>CLIENT_CODE=CL2; OPEN_LIMIT=1; CURRENT_LIMIT=0; OPEN_BALANCE= 10; CURRENT_BALANCE= -2;LIMIT_OPERATION=  CORRECT_LIMIT;  LIMIT_KIND= 2; WA_POSITION_PRICE= 2;</PRE>
<UL>
  <LI>установка позиции по инструментам</LI></UL>
<PRE>LIMIT_TYPE=DEPO; LIMIT_ID=4; FIRM_ID=NC0038900000; SECCODE=RU0009024277; TRDACCID=L01-00000F00; <BR>CLIENT_CODE= CL3; OPEN_LIMIT=200; CURRENT_LIMIT=  100; OPEN_BALANCE=500; CURRENT_BALANCE=400; LIMIT_OPERATION=SET_LIMIT; 
LIMIT_KIND=0;</PRE>

<P> </P>
<P>См. также:</P>
<UL>
  <LI><A href="ch7_13.html">Динамическая корректировка позиций из файла</A> 
  <LI><A href="ch7_13_3.html">Формат выходного файла с результатами 
  корректировок (*.lco)</A> 
  <LI><A href="ch7_13_4.html">Настройка динамической корректировки позиций из 
  файла</A></LI></UL>
</FONT></P>

<P><DIV class=copyright>Руководство пользователя QUIK © ARQA Technologies / <A 
href="http://arqatech.com/ru/products/quik/" target="_blank">www.arqatech.com/ru/products/quik/ </A></DIV>
</body>
