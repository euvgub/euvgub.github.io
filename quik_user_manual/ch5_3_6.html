<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><title>Настройки автозаполнения полей ввода заявки</title>
<META name=GENERATOR content="MSHTML 8.00.6001.18812">
<META content="text/html; charset=utf-8" http-equiv=Content-Type>

<STYLE type=text/css>

ADDRESS {font-style:normal;  padding-left: 20px; margin: 0px 0px 25pt 5pt; font-size: 9pt; color:#000000; font-style:normal; font-weight: normal; display:list-item; list-style-type:none; list-style-position: outside; list-style-image:url('template/icon-popup.gif');}

ADDRESS P {font-style:normal;  padding-left: 20px; margin: 0px 0px 5pt -15pt; font-size: 9pt; color:#000000; font-style:normal; font-weight: normal; display:list-item; list-style-type:none; list-style-position: outside; list-style-image:url('template/icon-popup.gif');}

MENU { font-size: 12pt; font-family:Verdana;  line-height:100%; margin:0px 0px 0px 20pt; list-style-type:none; list-style-position: outside; list-style-image:url('template/blt-link_black.gif'); }

BODY {font-family: Arial; font-size: 12pt; color:#000000; background-color: #fbfbfb; line-height: 1.3; margin:0pt 5pt 10pt 5pt;}

A {color: #16A9D3;}
P  {font-family:Arial; font-size:12pt; margin-top:0px; margin-bottom:12pt;}

IMG { margin:0pt 0pt 0pt auto; }

UL { font-family: Arial; font-size: 12pt; margin:12px 0px 12px 20px; list-style-type:disc; list-style-image:url('template/blt-li.gif'); } 
OL {font-family: Arial; font-size: 12pt; font-weight: bold; margin-top:12pt; margin-bottom:6pt; margin-left:20pt; type: bold;}
LI { margin-bottom: 8px; }
LI OL { margin-left: 25px; }
LI UL { margin-left: 25px; list-style-image:url('template/blt-link_black.gif'); }

SPAN {font-weight: normal;}

DD OL { font:12pt Verdana; font-style:normal; font-weight: bold; margin-left: 35px; }

H1 { font-size: 28pt; font-family:Verdana; color:#000000; font-style:normal; line-height:110%; margin-top:20pt; margin-bottom:26pt; text-decoration:none; font-weight: bold; margin-right:auto; margin-left:auto;}
H2 { font-size: 20pt; font-family:Verdana; color:#000000; font-style:normal; line-height:110%; margin-top:20pt; margin-bottom:6pt; text-decoration:none; font-weight: bold; margin-left:auto; padding: 0.5ex 0; }
H3 { font-size: 14pt; font-family:Verdana; color:#000000; font-style:normal; line-height:95%; margin-top:20pt; margin-bottom:6pt; margin-left: auto;}
H4 { font-size: 11pt; font-family:Verdana; color:#000000; font-style:normal; line-height:95%; margin-top:16pt; margin-bottom:6pt; margin-left: auto;}

TABLE { border-collapse: collapse; margin-bottom:20pt; }
TH { font-size: 10pt; border-top: none; border-bottom:#000000 3px solid; padding:15pt 5pt 5px 0px; color:#000000; font-family:Verdana; font-style:normal; font-weight: bold; text-align:left; }
TD { font-size:10pt; border-top: 0pt; font-family:Arial; border-bottom:#000000 1px solid; padding:4pt 5px 12pt 0px;  line-height:120%; }
TD P {font-family: Arial; font-size: 10pt; margin-top:6pt;}
TD.plain 	{margin:0px 0px 0px 0px; border-top: 0px; border-bottom:0px; padding:0px 0px 0px 0px; font-size:100%; line-height:100%;}
TD.array	{ border: 1px solid #D4D4D4; text-align: center; width: 90px;}
TD.pic	{ padding:0px 0px 0px 0px; }
TD.line1          { background-color:#000000; }
TD.line2          { background-color:#000000; }
TD UL {font-family: Arial; font-size: 10pt; margin:0px 0px 0px 20px; line-height:120%;}
TD UL LI {font-family: Arial; font-size: 10pt; margin-bottom: 0px; list-style-image:url('template/blt-link_black.gif');}

TD H4	{line-height: 100%; margin-top: 8px; margin-bottom: 0px;}

DL	{ padding-left:35px; margin-left: 30px; margin-bottom: 35px;}
DD	{ padding-left:8px; color:#000000; margin: 8px 8px 8px 0px; font:12pt Verdana; font-style:normal; font-weight: bold; border-left: #000000 4px solid; margin-bottom:18pt; }
DD P	{font:12pt Verdana; font-style:normal; font-weight: bold; }

PRE	{ background-color:#F2F2F2; margin-left: 35px; margin-bottom: 20px; border-style:none; border-top-style: none; border-bottom-style: none; padding:8px 8px 8px 8px; font: 10pt Courier New; line-height:160%;}

.title {display: inline; background:#FbFbFb; margin-left: 0px; border-style:solid; border-color:#D4D4D4; border-width: 1px 1px 0px 4px; padding:8px 8px 6px 12px; color:#19A788; font-weight:bold;}
.hlt { background:#FFFFFF; margin-left: 0px; border-style:solid; border-color:#D4D4D4; border-width: 1px 2px 1px 4px; padding:15px 8px 15px 46px;}

STRONG { font-weight: bold;}
.logo	{ position: relative; top:-45px; float: right; width: 100px; margin:10px 10px 10px 10px; }
.mark	{ font: 10pt Verdana; color: #5EB28E; }
.defn	{ font: 15px Trebuchet MS; margin:12px 0px 12px 50px; }
.copyright {font: 12pt Trebuchet MS; font-style:normal; color:#A2A2A2; margin-top: 50px;}
.comment	{ font-size: 10pt; font-family: Verdana; }
</STYLE>

<meta name=GENERATOR content="MSHTML 8.00.6001.18812"></head>
<body aLink=#19a788 link=#007cae vLink=#8d4194>
<H1 style="MARGIN-TOP: 10pt">Настройки автозаполнения полей ввода заявки</H1>
<P><FONT size=2 face=Arial>
<MENU>
  <LI><A href="#subt1">Назначение</A> 
  <LI><A href="#subt2">Формат файла настроек автоподстановки</A> 
  <LI><A href="#subt6">Настройка списка кодов клиента</A> 
  <LI><A href="#subt3">Заполнение полей «Код клиента» и «Поручение»</A> 
  <LI><A href="#subt4">Заполнение поля «Количество»</A> 
  <LI><A href="#subt5">Заполнение поля «Ссылка»</A> </LI></MENU>

<P> </P>
<A name=subt1></A>
<H2>Назначение</H2>
<P>Функционал программы позволяет при формировании новой транзакции задавать 
соответствия между параметрами «Класс/Инструмент/Операция» и следующими 
параметрами, заполняемыми автоматически: </P>
<UL>
  <LI>«Код клиента», «Поручение» - при вводе транзакций типов «Ввод заявки», «Ввод адресной заявки», «Ввод стоп-заявки», 
  <LI>«Торговый счет», «Поручение» - при вводе заявок по фьючерсам или опционам, 
  <LI>«Количество» - при вводе заявок всех типов, 
  <LI>«Ссылка» - при вводе заявок РЕПО и РПС. </LI></UL>
<P>В результате, при выборе в форме ввода транзакций определенного инструмента и 
операции, в указанных полях подставляются определенные значения.</P>
<P>Поле «Код клиента» формы ввода заявки содержит 
выпадающий список с доступными кодами клиентов. Этот список формируется 
автоматически по данным, сообщаемым сервером для всех классов, и может быть 
большим. Если используется несколько кодов клиента на одном классе инструментов, то 
настроек автозаполнения поля «Код клиента» одним значением может быть 
недостаточно. В этом случае можно указать в файле настроек собственные списки 
кодов, которые будут отображаться в форме ввода заявки в зависимости от 
указанного класса инструментов. При этом, все остальные настройки автозаполнения поля 
«Код клиента» будут действовать, если код, выбираемый по указанным правилам, 
присутствует в списке кодов для данного рынка.

<A name=subt2></A>
<H2>Формат файла настроек автоподстановки</H2>
<P>Соответствия задаются в текстовом файле специального формата. Имя файла и 
путь до него должны быть указаны в настроечном файле <STRONG>INFO.INI</STRONG> в 
секции <STRONG>[General]</STRONG> значением параметра «default-clients-file». </P>

<H3>Пример файла INFO.INI: </H3>
<PRE>[general]<BR>… …<BR>default-clients-file=D:\Program Files\QUIK\default_client_codes.ini<BR>… …</PRE>
<P>Параметры подстановки описываются в файле 
<STRONG>default_client_codes.ini</STRONG> в виде отдельных секций для 
каждого класса. Секция [Global] описывает глобальные настройки автоподстановки примечания в 
заявке. </P>

<H3>Пример файла default_client_codes.ini: </H3>
<PRE>[global]
set-comment-mode=1
sell-default-client-code=//global
buy-default-client-code=//global
[TQBR]<BR>sell-default-client-code=Q5<BR>buy-lkoh=Q8/3<BR>msng=Q9<BR><BR>[RPMA]<BR>sell-default-client-code=Q8<BR>sell-default-matchref="asdf"<BR>sell-default-quantity=100
</PRE>

<A name=subt6></A>
<H2>Настройка списка кодов клиентов</H2>
<P>Настройка перечня кодов клиентов, отображаемых в 
выпадающем списке в окне ввода заявки, осуществляется по следующему принципу: </P>
<OL>
  <LI><SPAN>Классы инструментов, для которых будет использоваться 
  один и тот же список кодов клиентов,&nbsp; объединяются в «рынки». Настройка 
  осуществляется в секции [MARKETS], строками вида 
  &lt;название_рынка&gt;=&lt;список_классов_через_запятую&gt;. <BR>Каждый класс 
  может быть включен только в один «рынок». Если в настройках обнаружено 
  вхождение одного класса в состав разных рынков, то программа выдаст сообщение 
  об ошибке с указанием имени рынка и класса, и продолжит обработку, игнорируя 
  повторные вхождения.<BR>

<H3>  Пример настроек: </H3>
<PRE>[MARKETS]
<BR>FUTURES=SPBFUT
<BR>CORPORATIVE=TQBR, SPBFUT
<BR>BQ=BQUOTES
<BR>OPTIONS=SPBOPT 
</PRE>
<P>В примере класс SPBFUT принадлежит рынку FUTURES, в описании рынка CORPORATIVE он будет проигнорирован.</SPAN> </P>
<LI><SPAN>Для каждого «рынка» указывается список        
   кодов клиентов. Настройка осуществляется в&nbsp;секции [MARKETS_CLIENT_CODES] 
  строками вида&lt;название_рынка&gt;= 
   &lt;список_кодов_клиентов_через_запятую&gt; 
  
<H3>  Пример&nbsp;настроек: </H3>
<PRE>[MARKETS_CLIENT_CODES]<BR>FUTURES =SPBFUT000121, SPBFUT000122<BR>CORPORATIVE =Q1, Q2, Q9<BR>BQ=</PRE>
<P>В примере список кодов клиентов для рынка BQ и класса BQUOTES будет пустым. Для 
  рынка OPTIONS список кодов клиентов не указан и по нему будут показаны все 
  коды клиентов без применения фильтра.</SPAN></P></LI></OL>
                               
<A name=subt3></A>
<P></P>
<H2>Заполнение полей «Код клиента» и «Поручение»</H2>
<P>Заполнение полей «Код клиента» («Торговый счет клиента» - для срочных 
контрактов) и «Поручение» может быть установлено по следующим признакам: </P>
<P>
<OL>
  <LI><SPAN>По инструменту и направлению операции - параметрами «sell-&lt;код 
  инструмента&gt;» для заявок на продажу по указанному инструменту и «buy-&lt;код 
  инструмента&gt;» для заявок на покупку по указанному инструменту, код клиента и 
  комментарий разделяются символами «/» или «//», в зависимости от настроек 
  сервера QUIK.</SPAN>
  <LI><SPAN>По классу инструмента и направлению операции - параметрами 
  «sell-default-client-code» для заявок на продажу и «buy-default-client-code» 
  для заявок на покупку.</SPAN>
  <LI><SPAN>По инструменту вне зависимости от направления операции 
  - параметром «&lt;код инструмента&gt;».</SPAN>
  <LI><SPAN>Глобальной настройкой автоподстановки «Поручения». </SPAN></LI></OL>
<P>Глобальная настройка автоподстановки указывается в секции 
[Global]. Применение глобальной настройки управляется параметром 
«set-comment-mode», который может быть указан как в&nbsp; секции [Global], так и в секции 
настроек для какого-либо класса. Параметр может принимать следующие 
значения:</P>
       
<UL>
<LI>«0» – применение глобальной настройки отключено,
<LI>«1» – включено автозаполнение поля «Поручение» значением глобальной настройки, 
значение берется из параметра «sell-default-client-code» для заявок на продажу и 
«buy-default-client-code» для заявок на покупку в секции [Global]. Если в 
параметрах указан код клиента, то он игнорируется. Например, если параметром 
«sell-default-client-code=77//global» задана подстановка кода клиента «77» и 
поручения «global», то код клиента не будет использоваться для        
автоподстановки.
</LI></UL>

<P>В случае, если условиям заявки соответствует несколько настроек подстановки 
значений, выбирается настройка, имеющая больший приоритет (в порядке 
убывания):</P>
<OL>
  <LI><SPAN>Значение из Фильтра клиента при включенной настройке «Подставлять код 
  клиента из фильтра в формы подачи заявок».</SPAN>
  <LI><SPAN>«sell-&lt;код инструмента&gt;» или «buy-&lt;код инструмента&gt;».</SPAN> 
  <LI><SPAN>«&lt;код инструмента&gt;».</SPAN> 
  <LI><SPAN>«sell-default-client-code» или «buy-default-client-code»</SPAN>
  <LI><SPAN>Значение глобальной настройки из секции [Global].</SPAN>
  <LI><SPAN>Значение из настроек программы (пункт основного меню <STRONG>Система / Настройки / Основные настройки...</STRONG> , раздел «Торговля», поле «Код клиента», при включенном флажке «Всегда брать код клиента по 
  умолчанию»). </SPAN></LI></OL>   
<DL>
  <DD>Если код клиента, найденный в настройке 
автозаполнения, НЕ входит в пользовательский список кодов клиента (см. <A 
href="#subt6">Настройка списка кодов клиентов</A>   ) для класса по которому подается заявка, поле «Код клиента» не заполняется   автоматически. </DD></DL>  
<P>Пример настроек: 
<PRE>[global]<BR>set-comment-mode=1<BR>sell-default-client-code=//global<BR>buy-default-client-code=//global
<BR>[SPBFUT]<BR>sell-default-client-code=SPBFUT0001/12345<BR>buy-default-client-code=SPBFUT0002/6789
<BR>[TQBR]<BR>sell-rtkm=Q8/2/коммент<BR>buy-rtkm=Q8/3/коммент<BR>msng=Q9
<BR>[RPMA]<BR>set-comment-mode=0<BR>sell-default-client-code=Q8<BR>buy-default-client-code=Q8<BR>sell-default-matchref="asdf"<BR>buy-default-matchref="qwer"<P></P></PRE>

<DL>
  <DD>Комментарии к примеру:</DD></DL>  

<OL>
<LI><SPAN> В секции [Global] включено использование глобальных настроек – в заявке заполняется комментарий «global». </SPAN>
<LI><SPAN>Для класса SPBFUT не указан параметр 
  «set-comment-mode», его значение будет браться из секции [Global]. Значение кода клиента и поручения для SPBFUT задано и будет использоваться либо SPBFUT0001/12345 (на продажу), либо SPBFUT0002/6789 (на покупку), а не //global.  </SPAN>
<LI><SPAN>Для класса TQBR не указан параметр «set-comment-mode», его значение будет браться из секции [Global]. Значение кода клиента и поручения для TQBR задано для инструмента RTKM, для всех остальных «Поручение» будет браться из секции global.</SPAN>
<LI><SPAN>Для класса RPMA настройка «set-comment-mode» выключена, поэтому глобальная настройка игнорируется.</SPAN></LI></OL>

<P>При формировании транзакций (ввод заявки, ввод стоп-заявки, ввод заявок РЕПО и РПС) 
в поля «Код клиента» («Торговый счет клиента», в случае выбора транзакции по 
срочному рынку) и «Поручение» подставляются значения в зависимости от способа 
вызова формы ввода транзакции и состояния флажка в настройках программы (пункт 
основного меню <STRONG>Система / Настройки / Основные 
настройки...</STRONG>, раздел «Торговля», флажок «Всегда брать код клиента по умолчанию»):
<UL>
  <LI>Включенная опция «Всегда брать клиента по умолчанию» означает, что при вызове форм ввода 
  транзакций (заявки, стоп-заявки, заявки РЕПО или РПС) поля «Код клиента» и 
  «Поручение» будут заполняться значениями из файла настроек независимо от способа 
  вызова формы (с помощью панели инструментов, через меню, двойным нажатием 
  левой кнопки мыши на строке таблицы или Окна котировок). При смене операции 
  или инструмента в уже открытой форме ввода транзакции будет произведено 
  повторное обращение к файлу настроек <STRONG>default_client_codes.ini</STRONG> 
  и, при надобности, будут изменены поля «Код клиента» и «Поручение». 
  <LI>Отключенная опция «Всегда брать клиента по умолчанию» означает, что при 
  вызове форм транзакций из таблиц в поля «Код клиента» и «Поручение» будут 
  подставлены значения из выбранной строки таблицы. Если в выбранной строке 
  таблицы не были заполнены поля «Код клиента» и «Поручение», то в них 
  осуществляется автоподстановка значений из файла настроек 
  <STRONG>default_client_codes.ini</STRONG>. </LI></UL>
<DL>
  <DD>Весь вышеупомянутый функционал распространяется на стандартные и 
  нестандартные формы ввода транзакций. </DD></DL>

<A name=subt4></A>
<H2>Заполнение поля «Количество»</H2>
<P>Заполнение поля «Количество» не зависит от выбранного кода клиента и может 
быть установлено по следующим признакам: </P>
<OL>
  <LI><SPAN>По инструменту и направлению операции - параметрами «sell-quantity-&lt;код 
  инструмента&gt;» для заявок на продажу по указанному инструменту и 
  «buy-quantity-&lt;код инструмента&gt;» для заявок на покупку по указанному 
  инструменту.</SPAN> 
  <LI><SPAN>По классу инструмента и направлению операции - параметрами 
  «sell-default-quantity» для заявок на продажу и «buy-default-quantity» для 
  заявок на покупку.</SPAN> 
  <LI><SPAN>По инструменту вне зависимости от направления операции - параметром 
  «quantity-&lt;код инструмента&gt;». </SPAN></LI></OL>
<P>В случае, если условиям заявки соответствует несколько настроек подстановки 
значений, выбирается настройка, имеющая больший приоритет (в порядке 
убывания):</P>
<OL>
  <LI><SPAN>«sell-quantity-&lt;код инструмента&gt;» или «buy-quantity-&lt;код инструмента&gt;»;</SPAN> 
  <LI><SPAN>«quantity-&lt;код инструмента&gt;»;</SPAN> 
  <LI><SPAN>«sell-default-quantity» или «buy-default-quantity»;</SPAN> 
  <LI><SPAN>значение количества лотов по умолчанию из настроек программы (пункт 
  основного меню <STRONG>Система / 
  Настройки / Основные настройки...</STRONG>, раздел «Торговля», поле «Кол-во лотов»). </SPAN></LI></OL>
<P>Пример настроек:</P>
<PRE>[TQBR]<BR>sell-quantity-rtkm=300<BR>buy-quantity-rtkm=400<BR>quantity-lkoh=500<BR><BR>[RPMA]<BR>sell-default-quantity=100<BR>buy-default-quantity=200</PRE>

<A name=subt5></A>
<H2>Заполнение поля «Ссылка»</H2>
<P>Заполнение поля «Ссылка» для заявок РЕПО и РПС не зависит от выбранного кода 
клиента и может быть установлено по следующим признакам: </P>
<OL>
  <LI><SPAN>По инструменту и направлению операции - параметрами «sell-matchref-&lt;код 
  инструмента&gt;» для заявок на продажу по указанному инструменту и 
  «buy-matchref-&lt;код инструмента&gt;» для заявок на покупку по указанному 
  инструменту; </SPAN>
  <LI><SPAN>По классу инструмента и направлению операции - параметрами 
  «sell-default-matchref» для заявок на продажу и «buy-default-matchref» для 
  заявок на покупку; </SPAN>
  <LI><SPAN>По инструменту вне зависимости от направления операции - параметром 
  «matchref-&lt;код инструмента&gt;» для всех операций по указанному инструменту. </SPAN>
  </LI></OL>
<P>В случае, если условиям заявки соответствует несколько настроек подстановки 
значений, выбирается настройка, имеющая больший приоритет (в порядке убывания): 
</P>
<OL>
  <LI><SPAN>«sell-matchref-&lt;код инструмента&gt;» или "buy-matchref-&lt;код инструмента&gt;»; </SPAN>
  <LI><SPAN>«matchref-&lt;код инструмента&gt;»; </SPAN>
  <LI><SPAN>«sell-default-matchref» или «buy-default-matchref». </SPAN></LI></OL>
<P>Настройки данных параметров действительны только для классов, по которым 
возможны операции РЕПО. </P>
<P>Пример настроек: </P>
<PRE>[RPMA]<BR>sell-default-matchref="asdf"<BR>buy-default-matchref="qwer"<BR>sell-matchref-msng="ref001"<BR>buy-matchref-msng="ref002"<BR>matchref-msng="mosenergo"</PRE>

</FONT></P>

<P><DIV class=copyright>Руководство пользователя QUIK © ARQA Technologies / <A 
href="http://arqatech.com/ru/products/quik/" target="_blank">www.arqatech.com/ru/products/quik/ </A></DIV>
</body>
