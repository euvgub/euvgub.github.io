<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Настройка соединения через прокси-сервер</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1251">


<STYLE type=text/css>

ADDRESS {font-style:normal;  padding-left: 20px; margin: 0px 0px 25pt 5pt; font-size: 9pt; color:#000000; font-style:normal; font-weight: normal; display:list-item; list-style-type:none; list-style-position: outside; list-style-image:url('template/icon-popup.gif');}

ADDRESS P {font-style:normal;  padding-left: 20px; margin: 0px 0px 5pt -15pt; font-size: 9pt; color:#000000; font-style:normal; font-weight: normal; display:list-item; list-style-type:none; list-style-position: outside; list-style-image:url('template/icon-popup.gif');}

MENU { font-size: 12pt; font-family:Verdana;  line-height:100%; margin:0px 0px 0px 20pt; list-style-type:none; list-style-position: outside; list-style-image:url('template/blt-link_black.gif'); }

BODY {font-family: Arial; font-size: 12pt; color:#000000; background-color: #fbfbfb; line-height: 1.3; margin:0pt 5pt 10pt 5pt;}

A {color: #16A9D3;}
P  {font-family:Arial; font-size:12pt; margin-top:0px; margin-bottom:12pt;}

IMG { margin:0pt 0pt 0pt auto; }

UL { font-family: Arial; font-size: 12pt; margin:12px 0px 12px 20px; list-style-type:disc; list-style-image:url('template/blt-li.gif'); } 
OL {font-family: Arial; font-size: 12pt; font-weight: bold; margin-top:12pt; margin-bottom:6pt; margin-left:20pt; type: bold;}
LI { margin-bottom: 8px; }
LI OL { margin-left: 25px; }
LI UL { margin-left: 25px; list-style-image:url('template/blt-link_black.gif'); }

SPAN {font-weight: normal;}

DD OL { font:12pt Verdana; font-style:normal; font-weight: bold; margin-left: 35px; }

H1 { font-size: 28pt; font-family:Verdana; color:#000000; font-style:normal; line-height:110%; margin-top:20pt; margin-bottom:26pt; text-decoration:none; font-weight: bold; margin-right:auto; margin-left:auto;}
H2 { font-size: 20pt; font-family:Verdana; color:#000000; font-style:normal; line-height:110%; margin-top:20pt; margin-bottom:6pt; text-decoration:none; font-weight: bold; margin-left:auto; padding: 0.5ex 0; }
H3 { font-size: 14pt; font-family:Verdana; color:#000000; font-style:normal; line-height:95%; margin-top:20pt; margin-bottom:6pt; margin-left: auto;}
H4 { font-size: 11pt; font-family:Verdana; color:#000000; font-style:normal; line-height:95%; margin-top:16pt; margin-bottom:6pt; margin-left: auto;}

TABLE { border-collapse: collapse; margin-bottom:20pt; }
TH { font-size: 10pt; border-top: none; border-bottom:#000000 3px solid; padding:15pt 5pt 5px 0px; color:#000000; font-family:Verdana; font-style:normal; font-weight: bold; text-align:left; }
TD { font-size:10pt; border-top: 0pt; font-family:Arial; border-bottom:#000000 1px solid; padding:4pt 5px 12pt 0px;  line-height:120%; }
TD P {font-family: Arial; font-size: 10pt; margin-top:6pt;}
TD.plain 	{margin:0px 0px 0px 0px; border-top: 0px; border-bottom:0px; padding:0px 0px 0px 0px; font-size:100%; line-height:100%;}
TD.array	{ border: 1px solid #D4D4D4; text-align: center; width: 90px;}
TD.pic	{ padding:0px 0px 0px 0px; }
TD.line1          { background-color:#000000; }
TD.line2          { background-color:#000000; }
TD UL {font-family: Arial; font-size: 10pt; margin:0px 0px 0px 20px; line-height:120%;}
TD UL LI {font-family: Arial; font-size: 10pt; margin-bottom: 0px; list-style-image:url('template/blt-link_black.gif');}

TD H4	{line-height: 100%; margin-top: 8px; margin-bottom: 0px;}

DL	{ padding-left:35px; margin-left: 30px; margin-bottom: 35px;}
DD	{ padding-left:8px; color:#000000; margin: 8px 8px 8px 0px; font:12pt Verdana; font-style:normal; font-weight: bold; border-left: #000000 4px solid; margin-bottom:18pt; }
DD P	{font:12pt Verdana; font-style:normal; font-weight: bold; }

PRE	{ background-color:#F2F2F2; margin-left: 35px; margin-bottom: 20px; border-style:none; border-top-style: none; border-bottom-style: none; padding:8px 8px 8px 8px; font: 10pt Courier New; line-height:160%;}

.title {display: inline; background:#FbFbFb; margin-left: 0px; border-style:solid; border-color:#D4D4D4; border-width: 1px 1px 0px 4px; padding:8px 8px 6px 12px; color:#19A788; font-weight:bold;}
.hlt { background:#FFFFFF; margin-left: 0px; border-style:solid; border-color:#D4D4D4; border-width: 1px 2px 1px 4px; padding:15px 8px 15px 46px;}

STRONG { font-weight: bold;}
.logo	{ position: relative; top:-45px; float: right; width: 100px; margin:10px 10px 10px 10px; }
.mark	{ font: 10pt Verdana; color: #5EB28E; }
.defn	{ font: 15px Trebuchet MS; margin:12px 0px 12px 50px; }
.copyright {font: 12pt Trebuchet MS; font-style:normal; color:#A2A2A2; margin-top: 50px;}
.comment	{ font-size: 10pt; font-family: Verdana; }
</STYLE>

<meta name=GENERATOR content="MSHTML 8.00.6001.18812"></head>

<body aLink=#19a788 link=#007cae vLink=#8d4194>
<H1 style="MARGIN-TOP: 10pt">Настройка соединения через прокси-сервер</H1>
<P><FONT size=2 face=Arial>
<MENU>
   <LI><A href="#subt1">Информация для администратора локальной сети по настройке прокси-сервера</A> </LI> 
</MENU>
<P>&nbsp;</P>

<P>Для организации работы системы QUIK из&nbsp;локальной сети, 
имеющей ограничение доступа в&nbsp;Интернет, скорее всего потребуется настройка 
прокси-сервера администратором сети. Если существует возможность установить 
соединение без использования прокси-сервера, то&nbsp;выполнять эту настройку не&nbsp;следует.</P>
<OL>
  <LI><SPAN>Откройте пункт 
  меню <STRONG>Система / Настройки&nbsp;/ Соединение с&nbsp;Интернетом...</STRONG>. </SPAN>

  <P><IMG alt="" align=absBottom src="internet-settings80.gif"></P> 

  <LI><SPAN>Установите флажок «Использовать прокси-сервер». </SPAN>
  <LI><SPAN>В полях «Сетевой адрес» и&nbsp;«Порт» введите адрес и&nbsp;порт 
  прокси-сервера (сообщается администратором локальной сети). Его также можно 
  найти в&nbsp;настройках программы обозревателя Интернет, например для MS Internet 
  Explorer нужно открыть пункт меню <STRONG>Сервис&nbsp;/ Свойства 
  браузера</STRONG>, вкладка «Подключения», нажать «Настройка сети» – в&nbsp;разделе «Прокси-сервер» указаны адрес прокси-сервера и&nbsp;номер порта, которые 
  нужно указать в&nbsp;настройках. </SPAN>
 <DL>
    <DD>  В&nbsp;поле «Адрес» указывается сетевое имя или IP-адрес компьютера, на&nbsp;котором установлен сервер QUIK.</DD>
  </DL>
  <LI><SPAN>Выберите используемый тип соединения: 
  <UL>
    <LI> «SOCKS5 с&nbsp;идентификацией по&nbsp;имени и&nbsp;паролю»&nbsp;– 
    если прокси-сервер поддерживает протокол SOCKS5, и&nbsp;требуется 
    идентификация пользователя. В&nbsp;этом случае имя и&nbsp;пароль для доступа в&nbsp;Интернет 
    будет запрашиваться для ввода пользователем вручную, если выбрано 
    условие «Запрашивать имя или пароль в&nbsp;процессе соединения», либо они будут&nbsp;сохранены 
    в&nbsp;файл настроек системы, если выбрано условие «Читать имя и&nbsp;пароль из&nbsp;файла 
    настройки». 
    <LI>«SOCKS5 без идентификации пользователя»&nbsp;– если 
    прокси-сервер поддерживает протокол SOCKS5 и&nbsp;идентификация пользователя не&nbsp;требуется. 
    <LI>«CONNECT через HTTP-порт прокси-сервера»&nbsp;– если 
    протокол SOCKS5 не&nbsp;поддерживается сервером, но&nbsp;возможно использование 
    команды протокола CONNECT. Ниже приведены примеры настройки для 
    прокси-серверов, протестированных на&nbsp;возможность работы c&nbsp;QUIK:&nbsp; 
    <UL>
      <LI>Squid proxy (требуется дополнительная настройка), 
      <LI>MS Proxy (требуется дополнительная настройка), 
      <LI>WinGate (настройка не&nbsp;требуется).</LI></UL>
    <LI>«CONNECT через HTTP порт с идентификацией по имени и паролю» – если протокол SOCKS5 не поддерживается сервером, но возможно использование команды протокола CONNECT, и требуется идентификация пользователя. Имя и пароль для доступа в Интернет будет запрашиваться для ввода пользователем вручную, если выбрано условие «Запрашивать имя или пароль в процессе соединения», либо они будут сохранены в файл настроек системы, если выбрано условие «Читать имя и пароль из файла настройки».
</LI></UL></SPAN>
</LI></OL>


<P><A name=subt1></A> 
<H2>Информация для администратора локальной сети по&nbsp;настройке прокси-сервера</H2>
<P>Необходимо включить порт QUIK (номер порта сообщается администратором сервера 
QUIK) в&nbsp;список портов, через которые разрешено установление SSL-соединения.</P>
<OL>
  <LI><SPAN> Настройки для Squid Proxy</SPAN>
    <SPAN><P>В&nbsp;файле sqiud.conf 
  (обычно это&nbsp;/usr/local/squid/etc/squid.conf) должны быть следующие строки: 
  <UL>     
  <LI>Включение 200 (например) порта в список SLL-портов: </LI></UL>
<PRE>acl SSL_ports port 443 563 200<BR>acl Safe_ports port 80 21 443 447 563 1025-65535 200  </PRE>
  <UL>
    <LI>Разрешить использовать метод CONNECT при обращении 
    на&nbsp;определённые выше SSL-порты: </LI></UL>
 <PRE>acl CONNECT method CONNECT<BR>http_access deny CONNECT!SSL_por  </PRE></SPAN>

 <LI><SPAN>Настройки для MSProxy</SPAN>
  <SPAN><P>Необходимо с&nbsp;помощью программы Regedit изменить на&nbsp;компьютере с установленным MSProxy один из&nbsp;ключей в&nbsp;реестре Windows: </P>
  <PRE>HKEY_LOCAL_MACHINE / SYSTEM / CurrentControlSet / Services /<BR> W3Proxy / Parameters / SSLPortListMembers 
</PRE>
  <P>В&nbsp;список портов необходимо добавить используемый порт 
  (например, 200). Если включен контроль доступа для сервиса «Web Proxy», то&nbsp;для&nbsp;протокола «Secure» нужно добавить группу «Everyone». В&nbsp;журналах сервиса эти&nbsp;
  соединения будут регистрироваться как от&nbsp;пользователя 
«anonymous».</P></SPAN></LI></OL>

</FONT></P>

<P><DIV class=copyright>Руководство пользователя QUIK © ARQA Technologies / <A 
href="http://arqatech.com/ru/products/quik/" target="_blank">www.arqatech.com/ru/products/quik/ </A></DIV>
</body>
