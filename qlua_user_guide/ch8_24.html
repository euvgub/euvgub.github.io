<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><title>Функции для работы с метками</title>
<META name=GENERATOR content="MSHTML 8.00.6001.18904">
<META content="text/html; charset=utf-8" http-equiv=Content-Type>

<STYLE type=text/css>

ADDRESS {font-style:normal;  padding-left: 20px; margin: 0px 0px 25pt 5pt; font-size: 9pt; color:#000000; font-style:normal; font-weight: normal; display:list-item; list-style-type:none; list-style-position: outside; list-style-image:url('template/icon-popup.gif');}

ADDRESS P {font-style:normal;  padding-left: 20px; margin: 0px 0px 5pt -15pt; font-size: 9pt; color:#000000; font-style:normal; font-weight: normal; display:list-item; list-style-type:none; list-style-position: outside; list-style-image:url('template/icon-popup.gif');}

MENU { font-size: 12pt; font-family:Verdana;  line-height:100%; margin:0px 0px 0px 20pt; list-style-type:none; list-style-position: outside; list-style-image:url('template/blt-link_black.gif'); }

BODY {font-family: Arial; font-size: 12pt; color:#000000; background-color: #fbfbfb; line-height: 1.3; margin:0pt 5pt 10pt 5pt;}

A {color: #16A9D3;}
P  {font-family:Arial; font-size:12pt; margin-top:0px; margin-bottom:12pt;}

IMG { margin:0pt 0pt 0pt auto; }

UL { font-family: Arial; font-size: 12pt; margin:12px 0px 12px 20px; list-style-type:disc; list-style-image:url('template/blt-li.gif'); } 
OL {font-family: Arial; font-size: 12pt; font-weight: bold; margin-top:12pt; margin-bottom:6pt; margin-left:20pt; type: bold;}
LI { margin-bottom: 8px; }
LI OL { margin-left: 25px; }
LI UL { margin-left: 25px; list-style-image:url('template/blt-link_black.gif'); }

SPAN {font-weight: normal;}

DD OL { font:12pt Verdana; font-style:normal; font-weight: bold; margin-left: 35px; }

H1 { font-size: 28pt; font-family:Verdana; color:#000000; font-style:normal; line-height:110%; margin-top:20pt; margin-bottom:26pt; text-decoration:none; font-weight: bold; margin-right:auto; margin-left:auto;}
H2 { font-size: 20pt; font-family:Verdana; color:#000000; font-style:normal; line-height:110%; margin-top:20pt; margin-bottom:6pt; text-decoration:none; font-weight: bold; margin-left:auto; padding: 0.5ex 0; }
H3 { font-size: 14pt; font-family:Verdana; color:#000000; font-style:normal; line-height:95%; margin-top:20pt; margin-bottom:6pt; margin-left: auto;}
H4 { font-size: 11pt; font-family:Verdana; color:#000000; font-style:normal; line-height:95%; margin-top:16pt; margin-bottom:6pt; margin-left: auto;}

TABLE { border-collapse: collapse; margin-bottom:20pt; }
TH { font-size: 10pt; border-top: none; border-bottom:#000000 3px solid; padding:15pt 5pt 5px 0px; color:#000000; font-family:Verdana; font-style:normal; font-weight: bold; text-align:left; }
TD { font-size:10pt; border-top: 0pt; font-family:Arial; border-bottom:#000000 1px solid; padding:4pt 5px 12pt 0px;  line-height:120%; }
TD P {font-family: Arial; font-size: 10pt; margin-top:6pt;}
TD.plain 	{margin:0px 0px 0px 0px; border-top: 0px; border-bottom:0px; padding:0px 0px 0px 0px; font-size:100%; line-height:100%;}
TD.array	{ border: 1px solid #D4D4D4; text-align: center; width: 90px;}
TD.pic	{ padding:0px 0px 0px 0px; }
TD.line1          { background-color:#000000; }
TD.line2          { background-color:#000000; }
TD UL {font-family: Arial; font-size: 10pt; margin:0px 0px 0px 20px; line-height:120%;}
TD UL LI {font-family: Arial; font-size: 10pt; margin-bottom: 0px; list-style-image:url('template/blt-link_black.gif');}

TD H4	{line-height: 100%; margin-top: 8px; margin-bottom: 0px;}

DL	{ padding-left:35px; margin-left: 30px; margin-bottom: 35px;}
DD	{ padding-left:8px; color:#000000; margin: 8px 8px 8px 0px; font:12pt Verdana; font-style:normal; font-weight: bold; border-left: #000000 4px solid; margin-bottom:18pt; }
DD P	{font:12pt Verdana; font-style:normal; font-weight: bold; }

PRE	{ background-color:#F2F2F2; margin-left: 35px; margin-bottom: 20px; border-style:none; border-top-style: none; border-bottom-style: none; padding:8px 8px 8px 8px; font: 10pt Courier New; line-height:160%;}

.title {display: inline; background:#FbFbFb; margin-left: 0px; border-style:solid; border-color:#D4D4D4; border-width: 1px 1px 0px 4px; padding:8px 8px 6px 12px; color:#19A788; font-weight:bold;}
.hlt { background:#FFFFFF; margin-left: 0px; border-style:solid; border-color:#D4D4D4; border-width: 1px 2px 1px 4px; padding:15px 8px 15px 46px;}

STRONG { font-weight: bold;}
.logo	{ position: relative; top:-45px; float: right; width: 100px; margin:10px 10px 10px 10px; }
.mark	{ font: 10pt Verdana; color: #5EB28E; }
.defn	{ font: 15px Trebuchet MS; margin:12px 0px 12px 50px; }
.copyright {font: 12pt Trebuchet MS; font-style:normal; color:#A2A2A2; margin-top: 50px;}
.comment	{ font-size: 10pt; font-family: Verdana; }
</STYLE>

<meta name=GENERATOR content="MSHTML 8.00.6001.18812"></head>
<body aLink=#19a788 link=#007cae vLink=#8d4194>
<H1 style="MARGIN-TOP: 10pt">Функции для работы с метками</H1>
<P><FONT size=2 face=Arial>
<MENU>
  <LI><A href="#subt1">ADD_LABEL</A> 
  <LI><A href="#subt2">DELETE_LABEL</A> 
  <LI><A href="#subt3">DELETE_ALL_LABELS</A> 
  <LI><A href="#subt4">GET_LABEL_PARAMS</A> 
  <LI><A href="#subt5">SET_LABEL_PARAMS</A> </LI></MENU>

<P>&nbsp;</P>
<P>Функции предназначены для построения меток и установки их на график. </P>

<A name=subt1></A>
<H2>ADD_LABEL</H2>
<P>Добавляет метку с заданными параметрами. 
<P class=defn>DOUBLE ADD_LABEL (STRING tag, MAP label params) </P>
<P>В окно, где отображен график с идентификатором «tag» добавляется метка. В 
случае успешного добавления функция возвращает идентификатор метки или (-1), 
если добавить метку не удалось. </P>
<P>Формат массива MAP содержит следующие параметры метки:</P>
<P>
<TABLE>
  <TBODY>
  <TR>
    <TH>№</TH>
    <TH>Параметр</TH>
    <TH>Тип</TH>
    <TH>Описание</TH></TR>
  <TR>
    <TD>1</TD>
    <TD>TEXT</TD>
    <TD>STRING</TD>
    <TD>Подпись метки (если подпись не требуется, то пустая строка)</TD></TR>
  <TR>
    <TD>2</TD>
    <TD>IMAGE_PATH</TD>
    <TD>STRING</TD>
    <TD>Путь к картинке, которая будет отображаться в качестве метки (пустая 
      строка, если картинка не требуется)</TD></TR>
  <TR>
    <TD>3</TD>
    <TD>ALIGNMENT</TD>
    <TD>STRING</TD>
    <TD> Расположение&nbsp;картинки относительно текста (возможно 4 варианта: LEFT, 
      RIGHT, TOP, BOTTOM)</TD></TR>
  <TR>
    <TD>4</TD>
    <TD>YVALUE</TD>
    <TD>DOUBLE</TD>
    <TD>Значение параметра на оси Y, к которому будет привязана метка</TD></TR>
  <TR>
    <TD>5</TD>
    <TD>DATE</TD>
    <TD>DOUBLE</TD>
    <TD>Дата в формате ГГГГММДД, к которой привязана метка</TD></TR>
  <TR>
    <TD>6</TD>
    <TD>TIME</TD>
    <TD>DOUBLE</TD>
    <TD>Время в формате ЧЧММСС, к которому будет привязана метка</TD></TR>
  <TR>
    <TD>7</TD>
    <TD>R</TD>
    <TD>DOUBLE</TD>
    <TD>Красная компонента цвета в формате RGB. Число в интервале 
[0;255]</TD></TR>
  <TR>
    <TD>8</TD>
    <TD>G</TD>
    <TD>DOUBLE</TD>
    <TD>Зеленая компонента цвета в формате RGB. Число в интервале 
[0;255]</TD></TR>
  <TR>
    <TD>9</TD>
    <TD>B</TD>
    <TD>DOUBLE</TD>
    <TD>Синяя компонента цвета в формате RGB. Число в интервале [0;255]</TD></TR>
  <TR>
    <TD>10</TD>
    <TD>TRANSPARENCY</TD>
    <TD>DOUBLE</TD>
    <TD>Прозрачность метки в процентах. Значение должно быть в промежутке [0; 
      100]</TD></TR>
  <TR>
    <TD>11</TD>
    <TD>TRANSPARENT_BACKGROUND</TD>
    <TD>DOUBLE</TD>
    <TD>Прозрачность метки. Возможные значения: «0» - прозрачность отключена, «1» - прозрачность включена</TD></TR>
  <TR>
    <TD>12</TD>
    <TD>FONT_FACE_NAME</TD>
    <TD>STRING</TD>
    <TD>Название шрифта (например "Arial")</TD></TR>
  <TR>
    <TD>13</TD>
    <TD>FONT_HEIGHT</TD>
    <TD>DOUBLE</TD>
    <TD>Размер шрифта</TD></TR>
  <TR>
    <TD>14</TD>
    <TD>HINT</TD>
    <TD>STRING</TD>
    <TD>Текст всплывающей подсказки</TD></TR></TBODY></TABLE></P>
<H3>Пример: </H3><PRE>' 
<BR>label_params=create_map()
<BR>label_params=set_value(label_params,"TEXT", "Текст метки")
<BR>label_params=set_value(label_params,"IMAGE_PATH", "image.bmp")
<BR>label_params=set_value(label_params,"ALIGNMENT", "LEFT")
<BR>label_params=set_value(label_params,"YVALUE", 2000)
<BR>label_params=set_value(label_params,"DATE", 20080616)
<BR>label_params=set_value(label_params,"TIME", 220000)
<BR>label_params=set_value(label_params,"R", 0)
<BR>label_params=set_value(label_params,"G", 0)
<BR>label_params=set_value(label_params,"B", 200)
<BR>label_params=set_value(label_params,"TRANSPARENCY", 10)
<BR>label_params=set_value(label_params,"FONT_FACE_NAME", "Tahoma")
<BR>label_params=set_value(label_params,"FONT_HEIGHT", 12)
<BR>label_params=set_value(label_params,"HINT", "Подсказка")
<BR>id=ADD_LABEL("ALL", label_params)
<BR>'
</PRE>
<P>Результат представляется следующим образом: на графике с идентификатором 
«ALL» будет добавлена метка с параметрами, указанными в массиве 
label_params.</P><A name=subt2></A>
<H2> DELETE_LABEL</H2>Удаляет метку с заданными параметрами. 
<P class=defn> DOUBLE DELETE_LABEL(STRING tag, DOUBLE id) </P>Удаляет метку с 
графика с текстовым идентификатором «tag» по заданному идентификатору id. В 
случае успешного удаления возвращает 1, в случае неудачи 0. 
<H3>Пример:</H3>
<PRE>' 
<BR>err=DELETE_LABEL("ALL", id)
<BR>'
</PRE>
<P>Результат действия функции будет удаление метки на графике с идентификатором 
"ALL"</P>

<A name=subt3></A>
<H2>  DELETE_ALL_LABELS</H2>
<P>Команда удаляет все метки на&nbsp;диаграмме с&nbsp;указанным графиком.</P>
<P class=defn>  DOUBLE DELETE_ALL_LABELS(STRING tag) </P>
<P>Удаляет все нанесенные метки с диаграммы, содержащей график 
с&nbsp;идентификатором tag. Если на этой диаграмме отображаются графики 
с&nbsp;разными идентификаторами, то&nbsp;этой командой будут удалены метки 
со&nbsp;всех графиков, а&nbsp;не только с&nbsp;указанного графика.</P>
<H3>Пример:</H3>
<PRE>' 
<BR>err=DELETE_ALL_LABELS("ALL")
<BR>'
</PRE>
<P>Результатом действия функции будет удаление всех меток на графике.</P><A 
name=subt4></A>
<H2>  GET_LABEL_PARAMS</H2>Команда позволяет получить параметры меток. 
<P class=defn>  MAP GET_LABEL_PARAMS(STRING tag, DOUBLE id) </P>
<P>Возвращает параметры метки с указанным идентификатором; если метка с 
указанным идентификатором не существует - возвращается пустой MAP. </P>
<UL>
  <LI>«tag» – идентификатор любого индикатора на графике, в котором расположена метка, 
  <LI>«id» – индекс или порядковый номер метки. Начинается с единицы.</LI></UL>
<H3>Пример:</H3>
<PRE>' 
<BR>new_params=GET_LABEL_PARAMS("ALL", id)
<BR>'
</PRE>
<P>  Разультатом действия является получение данных метки. Если такой 
метки не существует, то возвратившиеся значения будут пустыми.</P><A 
name=subt5></A>
<H2>  SET_LABEL_PARAMS</H2>
<P>Функция задает параметры для метки с указанным идентификатором.</P>
<P class=defn>  DOUBLE SET_LABEL_PARAMS(STRING tag, DOUBLE id, MAP new label 
params) </P>
<P>Она позволяет задать новые параметры для метки. В случае успешного обновления 
параметров функция возвращает 1, в случае неудачи 0.</P>
<H3>Пример:</H3>
<PRE>' 
<BR>err=SET_LABEL_PARAMS("ALL", id, label_params)
<BR>'
</PRE>
<P>Результатом действия функции будет измение существующих параметров на 
заданные функцией.</P>

</FONT></P>

<P><DIV class=copyright>Руководство пользователя QUIK © ARQA Technologies / <A 
href="http://arqatech.com/ru/products/quik/" target="_blank">www.arqatech.com/ru/products/quik/ </A></DIV>
</body>
